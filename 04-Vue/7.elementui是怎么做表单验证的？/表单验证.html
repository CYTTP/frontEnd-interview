<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    <el-form : model="ruleForm" : rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
        <el-form-item label="项目编码" prop="code">
            <el-input v-model="ruleForm.code"></el-input>
        </el-form-item>
    </el-form>
    //data中写rules规则，是一个数组，名字是标签里面的prop属性值
    rules: {
        code: [
            { required: true, message: '请输入项目编码', trigger: 'blur' },
        ]
        
    }


    <el-form-item label="邮箱号" rules="[{required:true,message:'请输入邮箱号',trigger:'blur'},{validator: yanz, trigger: 'blur'}]" : label-width="formLabelWidth" prop="email">
        <el-input v-model="form.email" autocomplete="off"></el-input>
    </el-form-item>


    data() {
        // 自定义校验规则
        var bargainMoney = (rule, value, callback) => {
            // rule 对应使用bargainMoney自定义验证的 对象
            // value 对应使用bargainMoney自定义验证的 数值 
            // callback 回调函数
            const r = /^+?[1-9][0-9]*$/; // 正整数
            if (value == null || String(value).trim() === "") {
                callback(new Error("不能为空"));
            } else if (!r.test(value)) {
                callback(new Error("请输入正整数"));
            } else {
                callback();
            }
        };
        return {
            formData: {
                haggleNumber: "", // 砍价人数
            },
            rules: {
                haggleNumber: [
                    {
                        required: true,
                        validator: bargainMoney,
                        trigger: "blur"
                    }
                ],
            }
        }
    }
// ---------------------------------------------
    data() {
        return {
            formData: {
                haggleNumber: "", // 砍价人数
            },
            rules: {
                haggleNumber: [
                    {
                        required: true,
                        validator: this.bargainMoney,
                        trigger: "blur"
                    }
                ]
            }
        }
    },
    methods: {
        // 自定义校验规则
        bargainMoney(rule, value, callback){
            // rule 对应使用bargainMoney自定义验证的 对象
            // value 对应使用bargainMoney自定义验证的 数值 
            // callback 回调函数
            const r = /^+?[1-9][0-9]*$/; // 正整数
            if (value == null || String(value).trim() === "") {
                return callback(new Error("不能为空"));
            } else if (!r.test(value)) {
                return callback(new Error("请输入正整数"));
            } else {
                return callback();
            }
        }
    }

</script>

</html>